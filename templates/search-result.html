<!DOCTYPE html>
<html lang="en">
{% from 'macros.html' import head, nav, importJs, bodyPaddingNav %}

{{ head(query + ' - Search PreMatch', True) }}
<body id="body" class="bg-primary">

{{ nav(True, "/search", handle) }}
{{ bodyPaddingNav() }}

<section class="hero pushed is-primary" style="margin-bottom: 10px;">
    <div class="hero-body">
        <form method="GET" action="/search">
            <div class="columns is-tablet">
                <div class="column">
                    <input type="text" class="input is-large" name="query" id="query" value="{{ query }}"
                           placeholder="Search name or handle..." required>
                </div>
                <div class="column is-one-quarter">
                    <input type="submit" class="button is-large is-outlined is-primary is-fullwidth"
                           style="transition: 0.5s all ease;" value="Search Again">
                </div>
            </div>
        </form>
    </div>
</section>

{% if results|length == 0 %}
    <section class="section pushed has-background-white">
        <div class="has-text-centered">
            <p class="title">No results were found for "{{ query }}"</p>
        </div>
    </section>
{% else %}
    {% for row in results %}
        <section class="section pushed has-background-white {{ 'is-user' if handle == row['handle'] }}"
                 style="margin-bottom: 4px;">
            <div class="container">
                <div class="columns is-tablet">
                    <div class="column">
                        <h1 class="title {{ 'overridden-white' if handle == row['handle'] }}">{{ row['name'] }}</h1>
                        <h2 class="subtitle {{ 'overridden-white' if handle == row['handle'] }}">{{ row['handle'] }}</h2>
                    </div>
                    <div class="column is-one-fourth">
                        <a class="button {{ 'is-outlined' if handle != row['handle'] }} is-primary is-large is-pulled-right"
                           href="/user/{{ row['handle'] }}">View Schedule</a>
                    </div>
                </div>
            </div>
        </section>
    {% endfor %}
{% endif %}

<style>
    @media screen and (max-width: 768px) {
        .columns {
            flex-direction: column;
        }

        .column {
            text-align: center;
        }

        .button {
            display: flex;
            width: 100%;
            float: none!important;
        }
    }

    @media screen and (max-width: 380px) {
        input {
            font-size: 18px !important;
        }
    }
</style>

{{ importJs() }}

</body>
</html>