<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Open House Schedule Table for {{ user.name }}</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143938190-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-143938190-1');
    </script>
</head>
<body>
    {# We are expecting: User user, SemesterSchedule schedule (non-null), [Mapping[str, str]] blocks #}
    <table>
        <thead>
            <tr>
                <td colspan="5">Open House Schedule for {{ user.name }}</td>
            </tr>
            <tr>
                <td>Block</td>
                <td>Time</td>
                <td>Subject</td>
                <td>Teacher</td>
                <td>Room</td>
            </tr>
        </thead>
        <tbody>
            {% for block in blocks %}
                <tr>
                    <td class="block">{{ block['block'] }}</td>
                    <td class="time">{{ block['time'] }}</td>
                    <td class="missing subject" contenteditable="true"></td>
                    <td {{ 'class=missing contenteditable=true' if block['block'] not in schedule }}>{{ schedule[block['block']] }}</td>
                    <td class="missing room" contenteditable="true"></td>
                </tr>
            {% endfor %}
            <tr>
                <td colspan="5" class="generation">Generated by PreMatch.org at {{ time }} UTC</td>
            </tr>
        </tbody>
    </table>
    <footer>
        Note: <span class="highlight">Yellow table cells</span> are editable
    </footer>
    <style>
        thead {
            font-weight: bold;
        }
        table {
            border-collapse: collapse;
            border-spacing: 0;
        }
        table, th, td {
            padding: 8px;
            border: 1px solid black;
            font-size: 18px;
        }
        .missing, .highlight {
            background-color: #e6ee9c;
        }
        .subject {
            min-width: 180px;
        }
        .room {
            min-width: 70px;
        }
        .time {
            font-family: monospace;
        }
        .generation {
            font-family: monospace;
            font-size: 9px;
            color: #444;
        }
        footer {
            padding: 10px;
            font-style: italic;
        }
        @media print {
            footer {
                display: none;
            }
        }
    </style>
</body>
</html>