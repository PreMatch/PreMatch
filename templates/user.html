<!DOCTYPE html>
<html lang="en">
{% from 'macros.html' import head, nav, importJs, bodyPaddingNav %}

{{ head('Schedule of ' + name, True) }}
<body id="body" class="bg-primary">

{{ nav(True, "/user/" + handle, handle) }}

<section class="hero is-primary section pushed">
    <div class="hero-body">
        <div class="container">
            <h1 class="title overridden-white is-1">
                Class List for {{ name }}
            </h1>
            <h2 class="subtitle overridden-white is-3">
                {{ handle }}
            </h2>
        </div>
    </div>
</section>
<section class="section pushed">
    <table class="table is-fullwidth is-size-4" style="max-width: 75%; margin: 0 auto;">
        <thead>
        <tr>
            <th>Block</th>
            <th>Teacher</th>
            <th>Roster</th>
        </tr>
        </thead>
        <tbody id="table-body">
        {% for period in 'ABCDEFG' %}
        <tr id="class-row-{{ period }}">
            <td>{{ period }}</td>
            <td>{{ schedule[period] }}</td>
            <td id="roster-data-{{ period }}">
                <a class="button is-link is-outlined is-primary is-medium overridden-white"
                   href="/roster/{{ period }}/{{ schedule[period] }}">View Roster</a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</section>

<style>
    @media screen and (max-width: 760px) {
        .title {
            font-size: 2rem !important;
        }

        .subtitle {
            font-size: 1rem !important;
        }
    }

    @media screen and (max-width: 700px) {
        tr {
            font-size: 20px;
        }

        tr td a {
            font-size: 0.75rem !important;
        }
    }

    @media screen and (max-width: 600px) {
        .title {
            font-size: 1.5rem !important;
        }

        .subtitle {
            font-size: 0.75rem !important;
        }
    }

    @media screen and (max-width: 560px) {
        tr {
            font-size: 16px;
        }
    }

    @media screen and (max-width: 450px) {
        tr {
            font-size: 14px;
        }
    }
</style>
<script type="text/javascript">
    $(window).resize(() => {
        let periodsArray = 'ABCDEFG'.split('');

        if ($(window).width() <= 480) {
            $('#table-body').children().each((index) => {
                let period = periodsArray[index];
                let lastTD = document.getElementById(`roster-data-${period}`);
                let button = lastTD.getElementsByTagName('a')[0];
                button.innerHTML = "Roster"
            });
        } else {
            $('#table-body').children('tr').each((index) => {
                let period = periodsArray[index];
                let lastTD = document.getElementById(`roster-data-${period}`);
                let button = lastTD.getElementsByTagName('a')[0];
                button.innerHTML = "View Roster"
            });
        }
    });
</script>
{{  bodyPaddingNav() }}
{{ importJs() }}

</body>
</html>